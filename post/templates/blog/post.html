{% extends "blog/layout.html" %}
{% load static %}
{% block title %}
    {{post.title}}
{% endblock %}

{% block body %}
	
	<div class="appcontent hbox">
        <div class="col p-3 ml-4 mr-4 mb-5" style="width:auto;">
            <header class="intro-post-header" id="intro-post-header" style="background-color: #f9f9f9;">
				<div class="header-mask"></div>
				<div class="pt-3 pb-3 mb-3 container">
					<div class="row text-black">
						<div class="col-lg col-lg-offset-1 col-md col-md-offset-1 col-sm col-sm-offset-0">
							<h1 class="post-title d-flex justify-content-center font-weight-bold">{{post.title}}</h1>
							<div class="line line-lg b-b b-light"></div>
							<div class="text-muted post-item-foot-icon text-ellipsis list-inline post-list">
								<li>
									<span class="right-small-icons">
										<svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-user">
											<path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
											<circle cx="12" cy="7" r="4"></circle>
										</svg>
									</span>
									<span>Author: {{post.author}}</span>
								</li>
								<li>
									<span class="right-small-icons">
										<svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
											<circle cx="12" cy="12" r="10"></circle>
											<polyline points="12 6 12 12 16 14"></polyline>
										</svg>
									</span>
									Created: {{post.createdDate|date:'M d, Y h:i A'}}
								</li>
								<li>
									<span class="right-small-icons">
										<svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" fill="currentColor" stroke="currentColor" stroke-width="2" viewBox="0 0 122.73 122.88" stroke-linejoin="round" >
											<style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;}</style>
											<path class="st0" d="M109.5,113.68L109.5,113.68l-6.09,0c-0.4,0-0.73-0.32-0.73-0.72V69.48l0-0.1c0-0.9-0.17-1.65-0.49-2.22 c-0.06-0.11-0.14-0.22-0.2-0.31c-0.06-0.09-0.16-0.18-0.23-0.27l-0.02-0.02c-0.3-0.3-0.68-0.53-1.12-0.69l-0.25-0.07l-0.04-0.01 l-0.01,0c-0.41-0.11-0.88-0.17-1.38-0.17h-0.05l-0.08,0H36.75c-0.89,0-1.62,0.17-2.18,0.49l-0.02,0.01l-0.27,0.17l-0.04,0.04 c-0.09,0.07-0.18,0.15-0.27,0.23l-0.02,0.02l-0.01,0.01c-0.62,0.63-0.92,1.57-0.92,2.82l0,0.04l0,43.54h0 c0,0.4-0.33,0.72-0.73,0.72l-9.85,0c0,0,0,0,0,0c-0.19,0-0.38-0.08-0.51-0.21L9.87,101.41c-0.18-0.14-0.29-0.36-0.29-0.59l0-87.91 l0-0.08c0-0.83,0.15-1.52,0.44-2.07l0,0c0.05-0.11,0.11-0.2,0.17-0.29l0.02-0.03c0.07-0.11,0.19-0.18,0.25-0.29l0.01-0.02 l0.02-0.02l0,0c0.25-0.25,0.57-0.45,0.92-0.59l0.04-0.02l0.02-0.01l0.02-0.01l0.18-0.06v0l0.01-0.01c0.42-0.14,0.9-0.2,1.44-0.21 l0.09-0.01l26.21,0c0.4,0,0.73,0.32,0.73,0.72v28.75c0,0.52,0.05,1.03,0.13,1.5c0.09,0.46,0.15,0.98,0.39,1.34l0.01,0.02l0,0.01v0 c0.18,0.44,0.42,0.87,0.67,1.25c0.24,0.37,0.56,0.77,0.9,1.13l0.02,0.02l0,0.01l0.01,0c0.48,0.5,0.94,1.15,1.62,1.27l0.01,0l0.01,0 l0.01,0.01l0.32,0.17l0,0l0.4,0.18v0l0.01,0l0,0l0,0v0c0.33,0.14,0.67,0.26,1,0.34l0.01,0l0.03,0l0.01,0l0.03,0l0.26,0.05v0 c0.45,0.09,0.93,0.14,1.42,0.14l0.02,0h47.8c1.03,0,1.98-0.18,2.85-0.53l0.01-0.01c0.87-0.36,1.67-0.9,2.39-1.61l0.03-0.03 c0.36-0.36,0.69-0.75,0.96-1.16c0.26-0.38,0.58-0.76,0.66-1.22l0-0.01l0.01-0.01l0.01-0.02c0.18-0.43,0.34-0.88,0.41-1.34l0-0.03 c0.09-0.47,0.13-0.97,0.13-1.49V9.92c0-0.4,0.33-0.73,0.73-0.73h6c0.58,0,1.09,0.07,1.54,0.21c0.48,0.15,0.89,0.39,1.2,0.7 c0.68,0.67,0.88,1.67,0.9,2.59l0.01,0.09v0.05l0,0.02v97.19c0,0.56-0.07,1.07-0.21,1.51l-0.01,0.03v0l0,0.02l-0.08,0.22l0,0 l-0.02,0.06l-0.09,0.2l-0.01,0.04l-0.02,0.04l0,0l-0.03,0.06l-0.15,0.22l0,0l-0.05,0.08l-0.14,0.17l-0.06,0.07 c-0.15,0.16-0.33,0.3-0.53,0.42c-0.17,0.1-0.36,0.19-0.55,0.26l-0.06,0.02c-0.16,0.05-0.34,0.1-0.53,0.14l-0.02,0l-0.01,0l-0.02,0 l-0.09,0.01l-0.02,0l0,0l-0.02,0c-0.22,0.03-0.49,0.05-0.76,0.06H109.5L109.5,113.68z M53.93,104.43c-1.66,0-3-1.34-3-3 c0-1.66,1.34-3,3-3h31.12c1.66,0,3,1.34,3,3c0,1.66-1.34,3-3,3H53.93L53.93,104.43z M53.93,89.03c-1.66,0-3-1.34-3-3s1.34-3,3-3 h31.12c1.66,0,3,1.34,3,3s-1.34,3-3,3H53.93L53.93,89.03z M94.03,9.39l-45.32-0.2v25.86H48.7c0,0.46,0.06,0.86,0.17,1.2 c0.03,0.06,0.04,0.1,0.07,0.15c0.09,0.23,0.22,0.44,0.4,0.61l0.03,0.03v0c0.06,0.06,0.11,0.1,0.17,0.15 c0.06,0.05,0.13,0.09,0.2,0.14c0.39,0.23,0.92,0.34,1.58,0.34v0l40.1,0.25v0l0,0v0c0.91,0,1.57-0.21,1.98-0.63 c0.42-0.43,0.63-1.1,0.63-2.02h0V9.39L94.03,9.39z M41.91,73.23h53.07v0c0.35,0,0.65,0.29,0.65,0.64l0,39.17 c0,0.35-0.29,0.65-0.65,0.65H41.91v0c-0.35,0-0.65-0.29-0.65-0.64l0-39.17C41.26,73.52,41.56,73.23,41.91,73.23L41.91,73.23 L41.91,73.23z M9.68,0h104.26c4.91,0,8.79,3.86,8.79,8.79V114c0,4.95-3.9,8.88-8.79,8.88l-96.61,0l-0.24-0.25L1.05,106.6L0,105.9 V8.76C0,3.28,4.81,0,9.68,0L9.68,0L9.68,0z"/>
										</svg>
									</span>
									Updated: {{post.updatedDate|date:'M d, Y h:i A'}}
								</li>
								<li>
									<span class="right-small-icons">
										<svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-eye">
											<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
											<circle cx="12" cy="12" r="3"></circle></svg>
									</span>
									{{post.views}} views
								</li>
								<li>
									<span class="right-small-icons">
										<svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-pen-tool">
											<path d="M12 19l7-7 3 3-7 7-3-3z"></path>
											<path d="M18 13l-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"></path>
											<path d="M2 2l7.586 7.586"></path>
											<circle cx="11" cy="11" r="2"></circle>
										</svg>
									</span>
									{{post.wordCount}} words
								</li>
								<li>
									<span class="right-small-icons">
										<svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-hash">
											<line x1="4" y1="9" x2="20" y2="9"></line>
											<line x1="4" y1="15" x2="20" y2="15"></line>
											<line x1="10" y1="3" x2="8" y2="21"></line>
											<line x1="16" y1="3" x2="14" y2="21"></line>
										</svg>
									</span>
									Tagged with:
									{% for ca in post.category.all %}
										<span class="badge badge-pill badge-primary">
											<a class="taglink" href="/category/?q={{ca.category_name}}">{{ca.category_name}}</a>
										</span>
									{% endfor %}
								</li>
							</div>
						</div>
					</div>
				</div>
			</header>
			<div class="d-flex justify-content-center markdown-body" id="intro-post-content" style="margin-bottom: 30px; background-color: #f9f9f9;">
				<div class="container ">
					<div class="p-5">{{post.content|safe}}</div>
				</div>
			</div>
        </div>        
        <aside class="asideBar bg-white-only col w-md" style="padding: 0px;" role="complementary">
            <div class="no-border-xs" id="sidebar">
                <section id="blog_info" class="m-3 pb-3 widget widget_categories wrapper-md clear">
                    <h5 class="widget-title m-t-none">Blog Info</h5>
                    <ul class="list-group box-shadow-wrap-normal">
                        <li class="list-group-item text-second">
                            <span class="blog-info-icons">
                                <svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-award">
                                    <circle cx="12" cy="8" r="7"></circle>
                                    <polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"></polyline>
                                </svg>
                            </span> 
                            <span class="badge pull-right">{{posts_length}}</span>
                            Posts
                        </li>
                        <li class="list-group-item text-second">
                            <span class="blog-info-icons"> 
                                <svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
                                    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                                    <line x1="16" y1="2" x2="16" y2="6"></line>
                                    <line x1="8" y1="2" x2="8" y2="6"></line>
                                    <line x1="3" y1="10" x2="21" y2="10"></line>
                                </svg>
                            </span>
                            <span class="badge pull-right">{{diff}} days</span>
                            Operated
                        </li>
                        <li class="list-group-item text-second">
                            <span class="blog-info-icons"> 
                                <svg xmlns="http://www.w3.org/2000/svg" width="16px" height="16px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-activity">
                                    <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                                </svg>
                            </span> 
                            <span class="badge pull-right">{{lastactivity}}ago</span>
                            Last Activity
                        </li>
                    </ul>
                </section>
                <section id="tag_cloud-2" class="m-3 widget widget_tag_cloud wrapper-md clear">
                    <h5 class="widget-title m-t-none">Tags</h5>
					<div class="tags l-h-2x">
						<a href="/index" class="label badge">All</a>
					</div>
                    {% for tag in tags %}
                        <div class="tags l-h-2x">
                            <a href="/category/?q={{tag.category_name}}" class="label badge">{{tag.category_name}}</a>
                        </div>
                    {% endfor %}
                </section>
            </div>
        </aside>
    </div>
{% endblock %}

{% block script %}
	<script src="{% static 'blog/index.js' %}"></script>
	<link rel="stylesheet" href="{% static 'blog/monokai.css' %}">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css">
	<style>
		.markdown-body {
			box-sizing: border-box;
			min-width: 200px;
		}
		.markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4, .markdown-body h5, .markdown-body h6 {
			font-weight: bold;
		}
		.markdown-body img{
			width: 100%;
		}
	</style>
	<script>
	MathJax = {
	  tex: {
		inlineMath: [['$', '$'], ['\\(', '\\)']]
	  },
	  svg: {
		fontCache: 'global'
	  }
	};
	</script>
	<script type="text/javascript" id="MathJax-script" async
	  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
	</script>
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			$("div.codehilite").toggleClass('highlight');
			$("div.codehilite").toggleClass("codehilite");
			$("div.highlight").toggleClass("mac-pre");
			$("div.highlight pre").css("background-color", "black");
			$("div.highlight pre code").toggleClass("code-container");
			document.querySelectorAll('.code-container').forEach((codeContainer)=>{
				const codeLines = codeContainer.innerHTML.split('\n');
				const numLines = codeLines.length - 1; // Exclude the last line
				const codeHtml = codeLines.slice(0, numLines).map((line) => {
					const isBlank = (line.trim() === '');
					const className = isBlank ? 'blank' : ''; 
					return `<span class="${className}">${line}</span>`
				}).join('\n');
				codeContainer.innerHTML = `${codeHtml}`;
				$('blockquote').css('padding','1em');
				$('blockquote').css('border-left','0.25em solid #00aaff');
			});
		});
	</script>
{% endblock %}
